"use strict";(self.webpackChunkTangram_Admin=self.webpackChunkTangram_Admin||[]).push([[758],{2758:function(e,a,l){l.r(a),l.d(a,{default:function(){return I}});var r=l(3735),s=l(2791),n=(l(4569),l(9836)),t=l(3382),d=l(3994),i=l(9281),c=l(6890),h=l(5855),u=l(703),o=l(4454),x=l(4925),m=l(1286),j=l(8096),g=l(9434),Z=l(9012),p=l(5523),v=l(9955),f=l(4554),b=l(2076),y=l(6151),A=l(7247),S=l(1686),N=l(9823),k=l(1889),w=l(8550),R=l(9321),C=l(3786),E=l(7246),P=l(3767),D=l(184);function q(){const e=(0,g.I0)(),a=(0,g.v9)((e=>e.emailSubscribeUsers.refresh)),l=(0,g.v9)((e=>e.emailSubscribeUsers.users)),r=(0,g.v9)((e=>e.emailSubscribeUsers.saveMode)),q=((0,g.v9)((e=>e.emailSubscribeUsers.currentPage)),(0,g.v9)((e=>e.emailSubscribeUsers.pageSize))),I=(0,g.v9)((e=>e.emailSubscribeUsers.total)),M=Math.floor(I/q)+1,U=(0,g.v9)((e=>e.emailSubscribeUsers.batchMode)),T=(0,g.v9)((e=>e.emailSubscribeUsers.checkedAll));(0,s.useEffect)((()=>{const l=document.querySelector('[aria-current="true"]').innerText;e((0,b.Rf)({currentPage:q*(l-1)})),a&&e((0,b.n9)())}),[a]),(0,s.useEffect)((()=>{e((0,b.cG)())}),[U]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(f.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",height:"42px"},children:[(0,D.jsx)(f.Z,{children:(0,D.jsx)(Z.Z,{children:(0,D.jsx)(p.Z,{control:(0,D.jsx)(v.Z,{onChange:()=>e((0,b.Fe)())}),label:U?"\uc77c\uad04\uc218\uc815\ubaa8\ub4dc \ub044\uae30":"\uc77c\uad04\uc218\uc815\ubaa8\ub4dc \ucf1c\uae30"})})}),(0,D.jsxs)(f.Z,{children:[U&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(j.Z,{sx:{mr:2,minWidth:170},size:"small",disabled:!r,children:[(0,D.jsx)(x.Z,{children:"Page"}),(0,D.jsxs)(R.Z,{label:"Page",defaultValue:"main",name:"batchPage",children:[(0,D.jsx)(C.Z,{value:"main",children:"TANGRAM Main"}),(0,D.jsx)(C.Z,{value:"smartrope",children:"SmartRope LED"}),(0,D.jsx)(C.Z,{value:"smartroperookie",children:"SmartRope ROOKIE"}),(0,D.jsx)(C.Z,{value:"smartropepure",children:"SmartRope PURE"}),(0,D.jsx)(C.Z,{value:"shop",children:"TANGRAM SHOP"})]})]}),(0,D.jsxs)(j.Z,{sx:{mr:2,minWidth:170},size:"small",disabled:!r,children:[(0,D.jsx)(x.Z,{children:"Language"}),(0,D.jsxs)(R.Z,{label:"Language",defaultValue:"kr",name:"batchLang",children:[(0,D.jsx)(C.Z,{value:"kr",children:"KR"}),(0,D.jsx)(C.Z,{value:"en",children:"EN"}),(0,D.jsx)(C.Z,{value:"jp",children:"JP"}),(0,D.jsx)(C.Z,{value:"cn",children:"CN"}),(0,D.jsx)(C.Z,{value:"de",children:"DE"}),(0,D.jsx)(C.Z,{value:"fr",children:"FR"})]})]}),(0,D.jsxs)(j.Z,{sx:{mr:2,minWidth:170},size:"small",disabled:!r,children:[(0,D.jsx)(x.Z,{children:"Ad Agree "}),(0,D.jsxs)(R.Z,{label:"Ad Agree",defaultValue:"1",name:"batchAdAgree",children:[(0,D.jsx)(C.Z,{value:"1",children:"Agree"}),(0,D.jsx)(C.Z,{value:"0",children:"Disagree"})]})]}),(0,D.jsx)(y.Z,{variant:"outlined",startIcon:(0,D.jsx)(A.Z,{}),sx:{mr:2},color:"error",disabled:!r,onClick:()=>{let a=[];l.map((e=>e.checked&&a.push(Number(e.id)))),e((0,b.Vt)({deleteArr:a})).then((a=>{200===a.payload.status&&a.payload.data.success&&e((0,b.cG)())}))},children:"Delete"})]}),(0,D.jsx)(y.Z,{variant:"contained",endIcon:(0,D.jsx)(S.Z,{}),disabled:!r,onClick:U?()=>{let a=Array.from(document.querySelectorAll('[data-update="true"]')).map((e=>({id:Number(e.getAttribute("data-key")),email:e.querySelector('[name="email"]').value,page:document.querySelector('[name="batchPage"]').value,lang:document.querySelector('[name="batchLang"]').value,adAgree:Number(document.querySelector('[name="batchAdAgree"]').value),deleted:Number(e.querySelector('[name="deleted"]').value)})));e((0,b.eD)({resultData:a})).then((a=>{200===a.payload.status&&a.payload.data.success&&e((0,b.cG)())})).catch((e=>{console.error(e)}))}:()=>{let a=Array.from(document.querySelectorAll('[data-update="true"]')),l=a.map((e=>({id:Number(e.getAttribute("data-key")),email:e.querySelector('[name="email"]').value,page:e.querySelector('[name="page"]').value,lang:e.querySelector('[name="lang"]').value,adAgree:Number(e.querySelector('[name="adAgree"]').value),deleted:Number(e.querySelector('[name="deleted"]').value)}))),s=[];a.map((e=>{let a=e.querySelector('[name="email"]').value,l=e.getAttribute("data-key");!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)&&s.push(l)})),s.length>0?e((0,b.lm)({invalidEamil:s})):r&&s.length<=0&&e((0,b.eD)({resultData:l})).then((a=>{200===a.payload.status&&a.payload.data.success&&e((0,b.cG)())})).catch((e=>{console.error(e)}))},children:"Save"})]})]}),(0,D.jsx)(i.Z,{component:u.Z,children:(0,D.jsxs)(n.Z,{sx:{minWidth:650},stickyHeader:!0,className:"fixed-table",children:[(0,D.jsx)("colgroup",{children:U?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("col",{style:{width:"1%"}}),(0,D.jsx)("col",{style:{width:"5%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"15%"}}),(0,D.jsx)("col",{style:{width:"15%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"16%"}})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("col",{style:{width:"5%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"15%"}}),(0,D.jsx)("col",{style:{width:"15%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"16%"}}),(0,D.jsx)("col",{style:{width:"1%"}})]})}),(0,D.jsx)(c.Z,{children:(0,D.jsxs)(h.Z,{children:[U&&(0,D.jsx)(d.Z,{padding:"checkbox",children:(0,D.jsx)(o.Z,{color:"primary",onClick:()=>e((0,b.Y2)()),checked:T})}),(0,D.jsx)(d.Z,{align:"left",children:"ID"}),(0,D.jsx)(d.Z,{align:"left",children:"Email"}),(0,D.jsx)(d.Z,{align:"left",children:"Page"}),(0,D.jsx)(d.Z,{align:"left",children:"Language"}),(0,D.jsx)(d.Z,{align:"left",children:"Ad Agree"}),(0,D.jsx)(d.Z,{align:"left",children:"Created Date"}),(0,D.jsx)(d.Z,{align:"left",children:"Modified Date"}),!U&&(0,D.jsx)(d.Z,{align:"center",children:"Edit"})]})}),(0,D.jsx)(t.Z,{children:l&&l.map((a=>a.edit?(0,D.jsxs)(h.Z,{"data-key":a.id,sx:{"&:last-child td, &:last-child th":{border:0}},name:"row","data-edit":a.edit,"data-update":a.isUpdate,children:[(0,D.jsx)(d.Z,{component:"th",scope:"row",children:a.id}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsx)(w.Z,{fullWidth:!0,error:!a.verified,defaultValue:a.email,helperText:!a.verified&&"\uc774\uba54\uc77c\uc744 \uc62c\ubc14\ub978 \ud615\uc2dd\uc73c\ub85c \uc791\uc131\ud574\uc8fc\uc138\uc694.",variant:"standard",name:"email",onChange:()=>e((0,b.Nr)(a.id))})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsxs)(R.Z,{fullWidth:!0,variant:"standard",defaultValue:a.page,name:"page",onChange:()=>e((0,b.Nr)(a.id)),children:[(0,D.jsx)(C.Z,{value:"main",children:"TANGRAM Main"}),(0,D.jsx)(C.Z,{value:"smartrope",children:"SmartRope LED"}),(0,D.jsx)(C.Z,{value:"smartroperookie",children:"SmartRope ROOKIE"}),(0,D.jsx)(C.Z,{value:"smartropepure",children:"SmartRope PURE"}),(0,D.jsx)(C.Z,{value:"shop",children:"TANGRAM SHOP"})]})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsxs)(R.Z,{variant:"standard",fullWidth:!0,defaultValue:a.lang,name:"lang",onChange:()=>e((0,b.Nr)(a.id)),children:[(0,D.jsx)(C.Z,{value:"kr",children:"KR"}),(0,D.jsx)(C.Z,{value:"en",children:"EN"}),(0,D.jsx)(C.Z,{value:"jp",children:"JP"}),(0,D.jsx)(C.Z,{value:"cn",children:"CN"}),(0,D.jsx)(C.Z,{value:"de",children:"DE"}),(0,D.jsx)(C.Z,{value:"fr",children:"FR"})]})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsxs)(R.Z,{variant:"standard",fullWidth:!0,defaultValue:a.adAgree,name:"adAgree",onChange:()=>e((0,b.Nr)(a.id)),children:[(0,D.jsx)(C.Z,{value:"1",children:"Agree"}),(0,D.jsx)(C.Z,{value:"0",children:"Disagree"})]})}),(0,D.jsx)(d.Z,{align:"left",className:"hidden",children:(0,D.jsxs)(R.Z,{variant:"standard",fullWidth:!0,defaultValue:a.deleted,name:"deleted",onChange:()=>e((0,b.Nr)(a.id)),children:[(0,D.jsx)(C.Z,{value:"1",children:"undeleted"}),(0,D.jsx)(C.Z,{value:"0",children:"deleted"})]})}),(0,D.jsx)(d.Z,{align:"left",children:a.created}),(0,D.jsx)(d.Z,{align:"left",children:a.modified}),(0,D.jsx)(d.Z,{align:"center",children:(0,D.jsx)(y.Z,{onClick:()=>e((0,b.Oh)(a.id)),children:(0,D.jsx)(N.Z,{className:"secondary"})})})]},a.id):(0,D.jsxs)(h.Z,{"data-key":a.id,sx:{"&:last-child td, &:last-child th":{border:0}},name:"row","data-edit":a.edit,"data-update":a.isUpdate,children:[U&&(0,D.jsx)(d.Z,{padding:"checkbox",children:(0,D.jsx)(o.Z,{color:"primary",name:"checkbox",onChange:l=>e((0,b.T7)({id:a.id,checked:l.target.checked})),checked:a.checked})}),(0,D.jsx)(d.Z,{component:"th",scope:"row",children:a.id}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsx)("input",{value:a.email,name:"email",className:"customInput",disabled:!0})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsx)("input",{value:("main"===a.page?"TANGRAM Main":"smartrope"===a.page&&"SmartRope LED")||"smartroperookie"===a.page&&"SmartRope ROOKIE"||"smartropepure"===a.page&&"SmartRope PURE"||"shop"===a.page&&"TANGRAM SHOP",name:"page",className:"customInput",disabled:!0})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsx)("input",{value:("kr"===a.lang?"KR":"en"===a.lang&&"EN")||"jp"===a.lang&&"JP"||"cn"===a.lang&&"CN"||"de"===a.lang&&"DE"||"fr"===a.lang&&"FR",name:"lang",className:"customInput",disabled:!0})}),(0,D.jsx)(d.Z,{align:"left",children:(0,D.jsxs)("select",{value:a.adAgree,name:"adAgree",className:"customSelect",disabled:!0,children:[(0,D.jsx)("option",{value:"1",children:"Agree"}),(0,D.jsx)("option",{value:"0",children:"Disagree"})]})}),(0,D.jsx)(d.Z,{align:"left",className:"hidden",children:(0,D.jsx)("input",{value:a.deleted,name:"deleted",className:"customInput",disabled:!0})}),(0,D.jsx)(d.Z,{align:"left",children:a.created}),(0,D.jsx)(d.Z,{align:"left",children:a.modified}),!U&&(0,D.jsx)(d.Z,{align:"center",children:(0,D.jsx)(y.Z,{onClick:()=>e((0,b.Oh)(a.id)),children:(0,D.jsx)(m.Z,{color:"primary"})})})]},a.id)))})]})}),(0,D.jsx)(k.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",sx:{mt:5},children:(0,D.jsx)(P.Z,{spacing:2,children:(0,D.jsx)(E.Z,{count:M,showFirstButton:!0,showLastButton:!0,onChange:(a,l)=>e((0,b.Rf)({currentPage:q*(l-1)}))})})})]})}var I=()=>(0,D.jsx)(r.Z,{title:"Tangram",children:(0,D.jsx)(q,{})})}}]);
//# sourceMappingURL=758.af49b052.chunk.js.map